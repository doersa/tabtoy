package gosrc

// 报错行号+3
const templateText = `// Generated by github.com/davyxu/tabtoy
// DO NOT EDIT!!
// Version: {{.Version}}
package {{.PackageName}}

{{range $sn, $objName := $.Types.EnumNames}}
type {{$objName}} int32
const (	{{range $fi,$field := $.Types.AllFieldByName $objName}}
	{{$objName}}_{{$field.FieldName}} = {{$field.Value}} // {{$field.Name}} {{end}}
)

var (
	{{$objName}}MapperValueByName = map[string]int32{ {{range $fi,$field := $.Types.AllFieldByName $objName}}
		"{{$field.FieldName}}": {{$field.Value}}, // {{$field.Name}} {{end}}
	}

	{{$objName}}MapperNameByValue = map[int32]string{ {{range $fi,$field := $.Types.AllFieldByName $objName}}
		 {{$field.Value}}: "{{$field.FieldName}}", // {{$field.Name}} {{end}}
	}
)
{{end}}

{{range $sn, $objName := $.Types.StructNames}}
type {{$objName}} struct{ {{range $fi,$field := $.Types.AllFieldByName $objName}}
	{{$field.FieldName}} {{LanguageType $field "go"}} {{GoTabTag $field}} {{end}}
}
{{end}}

// Combine struct
type {{.CombineStructName}} struct { {{range $ti, $tab := $.Datas.AllTables}}
	{{$tab.HeaderType}} []*{{$tab.HeaderType}} // table: {{$tab.HeaderType}} {{end}}
}

//{{range $ti, $name := $.KeyValueTypeNames}} table: {{$name}}
func (self*{{$.CombineStructName}}) GetKeyValue_{{$name}}() *{{$name}}{
	return self.{{$name}}[0]
}
{{end}}

`
